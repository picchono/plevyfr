/*!
 * Packery layout mode PACKAGED v2.0.1
 * sub-classes Packery
 */!function(e,t){"function"==typeof define&&define.amd?define("packery/js/rect",t):"object"==typeof module&&module.exports?module.exports=t():(e.Packery=e.Packery||{},e.Packery.Rect=t())}(window,function(){function e(t){for(var n in e.defaults)this[n]=e.defaults[n];for(n in t)this[n]=t[n]}e.defaults={x:0,y:0,width:0,height:0};var t=e.prototype;return t.contains=function(e){var t=e.width||0,n=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+t&&this.y+this.height>=e.y+n},t.overlaps=function(e){var t=this.x+this.width,n=this.y+this.height,s=e.x+e.width,o=e.y+e.height;return this.x<s&&t>e.x&&this.y<o&&n>e.y},t.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var n,s=[],a=this.x+this.width,r=this.y+this.height,o=t.x+t.width,i=t.y+t.height;return this.y<t.y&&(n=new e({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),s.push(n)),a>o&&(n=new e({x:o,y:this.y,width:a-o,height:this.height}),s.push(n)),r>i&&(n=new e({x:this.x,y:i,width:this.width,height:r-i}),s.push(n)),this.x<t.x&&(n=new e({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),s.push(n)),s},t.canFit=function(e){return this.width>=e.width&&this.height>=e.height},e}),function(e,t){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],t);else if("object"==typeof module&&module.exports)module.exports=t(require("./rect"));else{var n=e.Packery=e.Packery||{};n.Packer=t(n.Rect)}}(window,function(e){function n(e,t,n){this.width=e||0,this.height=t||0,this.sortDirection=n||"downwardLeftToRight",this.reset()}var s,t=n.prototype;return t.reset=function(){this.spaces=[];var t=new e({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t),this.sorter=s[this.sortDirection]||s.downwardLeftToRight},t.pack=function(e){for(var n,t=0;t<this.spaces.length;t++)if(n=this.spaces[t],n.canFit(e)){this.placeInSpace(e,n);break}},t.columnPack=function(e){for(n=0;n<this.spaces.length;n++){var n,t=this.spaces[n],s=t.x<=e.x&&t.x+t.width>=e.x+e.width&&t.height>=e.height-.01;if(s){e.y=t.y,this.placed(e);break}}},t.rowPack=function(e){for(n=0;n<this.spaces.length;n++){var n,t=this.spaces[n],s=t.y<=e.y&&t.y+t.height>=e.y+e.height&&t.width>=e.width-.01;if(s){e.x=t.x,this.placed(e);break}}},t.placeInSpace=function(e,t){e.x=t.x,e.y=t.y,this.placed(e)},t.placed=function(e){for(var s,o,t=[],n=0;n<this.spaces.length;n++)s=this.spaces[n],o=s.getMaximalFreeRects(e),o?t.push.apply(t,o):t.push(s);this.spaces=t,this.mergeSortSpaces()},t.mergeSortSpaces=function(){n.mergeRects(this.spaces),this.spaces.sort(this.sorter)},t.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},n.mergeRects=function(e){var s,o,t=0,n=e[t];a:for(;n;){for(s=0,o=e[t+s];o;){if(o==n)s++;else{if(o.contains(n)){e.splice(t,1),n=e[t];continue a}n.contains(o)?e.splice(t+s,1):s++}o=e[t+s]}t++,n=e[t]}return e},s={downwardLeftToRight:function(e,t){return e.y-t.y||e.x-t.x},rightwardTopToBottom:function(e,t){return e.x-t.x||e.y-t.y}},n}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("./rect")):e.Packery.Item=t(e.Outlayer,e.Packery.Rect)}(window,function(e,t){var i,a=document.documentElement.style,s="string"==typeof a.transform?"transform":"WebkitTransform",o=function(){e.Item.apply(this,arguments)},n=o.prototype=Object.create(e.Item.prototype),r=n._create;return n._create=function(){r.call(this),this.rect=new t},i=n.moveTo,n.moveTo=function(e,t){var n=Math.abs(this.position.x-e),s=Math.abs(this.position.y-t),o=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&1>n&&1>s;return o?void this.goTo(e,t):void i.apply(this,arguments)},n.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&s&&(this.element.style[s]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},n.disablePlacing=function(){this.isPlacing=!1},n.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},n.showDropPlaceholder=function(){var e=this.dropPlaceholder;e||(e=this.dropPlaceholder=document.createElement("div"),e.className="packery-drop-placeholder",e.style.position="absolute"),e.style.width=this.size.width+"px",e.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(e)},n.positionDropPlaceholder=function(){this.dropPlaceholder.style[s]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},n.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},o}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):e.Packery=t(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)}(window,function(e,t,n,s,o){function l(e,t){return e.position.y-t.position.y||e.position.x-t.position.x}function d(e,t){return e.position.x-t.position.x||e.position.y-t.position.y}function u(e,t){var n=t.x-e.x,s=t.y-e.y;return Math.sqrt(n*n+s*s)}n.prototype.canFit=function(e){return this.width>=e.width-1&&this.height>=e.height-1};var i,r,c,a=t.create("packery");return a.Item=o,i=a.prototype,i._create=function(){t.prototype._create.call(this),this.packer=new s,this.shiftPacker=new s,this.isEnabled=!0,this.dragItemCount=0;var e=this;this.handleDraggabilly={dragStart:function(){e.itemDragStart(this.element)},dragMove:function(){e.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){e.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(t,n){n&&e.itemDragStart(t.currentTarget)},drag:function(t,n){n&&e.itemDragMove(t.currentTarget,n.position.left,n.position.top)},stop:function(t,n){n&&e.itemDragEnd(t.currentTarget)}}},i._resetLayout=function(){this.getSize(),this._getMeasurements();var e,t,n;this._getOption("horizontal")?(e=1/0,t=this.size.innerHeight+this.gutter,n="rightwardTopToBottom"):(e=this.size.innerWidth+this.gutter,t=1/0,n="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=e,this.packer.height=this.shiftPacker.height=t,this.packer.sortDirection=this.shiftPacker.sortDirection=n,this.packer.reset(),this.maxY=0,this.maxX=0},i._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},i._getItemLayoutPosition=function(e){if(this._setRectSize(e.element,e.rect),this.isShifting||this.dragItemCount>0){var t=this._getPackMethod();this.packer[t](e.rect)}else this.packer.pack(e.rect);return this._setMaxXY(e.rect),e.rect},i.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},i._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},i._setMaxXY=function(e){this.maxX=Math.max(e.x+e.width,this.maxX),this.maxY=Math.max(e.y+e.height,this.maxY)},i._setRectSize=function(t,n){var i=e(t),s=i.outerWidth,o=i.outerHeight;(s||o)&&(s=this._applyGridGutter(s,this.columnWidth),o=this._applyGridGutter(o,this.rowHeight)),n.width=Math.min(s,this.packer.width),n.height=Math.min(o,this.packer.height)},i._applyGridGutter=function(e,t){if(!t)return e+this.gutter;t+=this.gutter;var n=e%t,s=n&&1>n?"round":"ceil";return e=Math[s](e/t)*t},i._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},i._manageStamp=function(e){var t,s,o=this.getItem(e);o&&o.isPlacing?t=o.rect:(s=this._getElementOffset(e),t=new n({x:this._getOption("originLeft")?s.left:s.right,y:this._getOption("originTop")?s.top:s.bottom})),this._setRectSize(e,t),this.packer.placed(t),this._setMaxXY(t)},i.sortItemsByPosition=function(){var e=this._getOption("horizontal")?d:l;this.items.sort(e)},i.fit=function(e,t,n){var s=this.getItem(e);s&&(this.stamp(s.element),s.enablePlacing(),this.updateShiftTargets(s),t=void 0===t?s.rect.x:t,n=void 0===n?s.rect.y:n,this.shift(s,t,n),this._bindFitEvents(s),s.moveTo(s.rect.x,s.rect.y),this.shiftLayout(),this.unstamp(s.element),this.sortItemsByPosition(),s.disablePlacing())},i._bindFitEvents=function(e){function t(){n++,2==n&&s.dispatchEvent("fitComplete",null,[e])}var s=this,n=0;e.once("layout",t),this.once("layoutComplete",t)},i.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},i.needsResizeLayout=function(){var n=e(this.element),t=this._getOption("horizontal")?"innerHeight":"innerWidth";return n[t]!=this.size[t]},i.resizeShiftPercentLayout=function(){var a,r,c,o=this._getItemsForLayout(this.items),t=this._getOption("horizontal"),n=t?"y":"x",l=t?"height":"width",i=t?"rowHeight":"columnWidth",d=t?"innerHeight":"innerWidth",s=this[i];(s=s&&s+this.gutter)?(this._getMeasurements(),a=this[i]+this.gutter,o.forEach(function(e){var t=Math.round(e.rect[n]/s);e.rect[n]=t*a})):(r=e(this.element)[d]+this.gutter,c=this.packer[l],o.forEach(function(e){e.rect[n]=e.rect[n]/c*r})),this.shiftLayout()},i.itemDragStart=function(e){if(this.isEnabled){this.stamp(e);var t=this.getItem(e);t&&(t.enablePlacing(),t.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(t))}},i.updateShiftTargets=function(e){this.shiftPacker.reset(),this._getBoundingRect(),c=this._getOption("originLeft"),l=this._getOption("originTop"),this.stamps.forEach(function(e){if(s=this.getItem(e),!s||!s.isPlacing){var s,t=this._getElementOffset(e),o=new n({x:c?t.left:t.right,y:l?t.top:t.bottom});this._setRectSize(e,o),this.shiftPacker.placed(o)}},this);var t,s,a,r,c,l,d,u,h,o=this._getOption("horizontal"),m=o?"rowHeight":"columnWidth",i=o?"height":"width";if(this.shiftTargetKeys=[],this.shiftTargets=[],t=this[m],t=t&&t+this.gutter){d=Math.ceil(e.rect[i]/t),r=Math.floor((this.shiftPacker[i]+this.gutter)/t),s=(r-d)*t;for(a=0;r>a;a++)this._addShiftTarget(a*t,0,s)}else s=this.shiftPacker[i]+this.gutter-e.rect[i],this._addShiftTarget(0,0,s);u=this._getItemsForLayout(this.items),h=this._getPackMethod(),u.forEach(function(e){n=e.rect,this._setRectSize(e.element,n),this.shiftPacker[h](n),this._addShiftTarget(n.x,n.y,s);var n,a,l,d,u,r=o?n.x+n.width:n.x,c=o?n.y:n.y+n.height;if(this._addShiftTarget(r,c,s),t)for(l=Math.round(n[i]/t),a=1;l>a;a++)d=o?r:n.x+t*a,u=o?n.y+t*a:c,this._addShiftTarget(d,u,s)},this)},i._addShiftTarget=function(e,t,n){if(s=this._getOption("horizontal")?t:e,!(0!==s&&s>n)){var s,o=e+","+t,i=-1!=this.shiftTargetKeys.indexOf(o);i||(this.shiftTargetKeys.push(o),this.shiftTargets.push({x:e,y:t}))}},i.shift=function(e,t,n){var s,o=1/0,i={x:t,y:n};this.shiftTargets.forEach(function(e){var t=u(e,i);o>t&&(s=e,o=t)}),e.rect.x=s.x,e.rect.y=s.y},r=120,i.itemDragMove=function(e,t,n){function o(){i.shift(s,t,n),s.positionDropPlaceholder(),i.layout()}if(s=this.isEnabled&&this.getItem(e),s){t-=this.size.paddingLeft,n-=this.size.paddingTop;var s,i=this,a=new Date;this._itemDragTime&&a-this._itemDragTime<r?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(o,r)):(o(),this._itemDragTime=a)}},i.itemDragEnd=function(e){function n(){s++,2==s&&(t.element.classList.remove("is-positioning-post-drag"),t.hideDropPlaceholder(),o.dispatchEvent("dragItemPositioned",null,[t]))}if(t=this.isEnabled&&this.getItem(e),t){clearTimeout(this.dragTimeout),t.element.classList.add("is-positioning-post-drag");var t,s=0,o=this;t.once("layout",n),this.once("layoutComplete",n),t.moveTo(t.rect.x,t.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),t.disablePlacing(),this.unstamp(t.element)}},i.bindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"on")},i.unbindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"off")},i._bindDraggabillyEvents=function(e,t){var n=this.handleDraggabilly;e[t]("dragStart",n.dragStart),e[t]("dragMove",n.dragMove),e[t]("dragEnd",n.dragEnd)},i.bindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"on")},i.unbindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"off")},i._bindUIDraggableEvents=function(e,t){var n=this.handleUIDraggable;e[t]("dragstart",n.start)[t]("drag",n.drag)[t]("dragstop",n.stop)},c=i.destroy,i.destroy=function(){c.apply(this,arguments),this.isEnabled=!1},a.Rect=n,a.Packer=s,a}),function(e,t){"function"==typeof define&&define.amd?define(["isotope-layout/js/layout-mode","packery/js/packery"],t):"object"==typeof module&&module.exports?module.exports=t(require("isotope-layout/js/layout-mode"),require("packery")):t(e.Isotope.LayoutMode,e.Packery)}(window,function(e,t){var s,i,a,r,c,o=e.create("packery"),n=o.prototype,l={_getElementOffset:!0,_getMeasurement:!0};for(s in t.prototype)l[s]||(n[s]=t.prototype[s]);return i=n._resetLayout,n._resetLayout=function(){this.packer=this.packer||new t.Packer,this.shiftPacker=this.shiftPacker||new t.Packer,i.apply(this,arguments)},a=n._getItemLayoutPosition,n._getItemLayoutPosition=function(e){return e.rect=e.rect||new t.Rect,a.call(this,e)},r=n.needsResizeLayout,n.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():r.call(this)},c=n._getOption,n._getOption=function(e){return"horizontal"==e?void 0!==this.options.isHorizontal?this.options.isHorizontal:this.options.horizontal:c.apply(this.isotope,arguments)},o})